# ============================================
# 生產環境配置 (Production)
# ============================================
# 使用方式: 複製此檔案內容到伺服器的 .env
#
# 此配置用於生產環境部署 (Synology NAS + Cloudflare)
# HMR 已停用，避免 WebSocket 連線錯誤
# ============================================

# Database Configuration
POSTGRES_USER=accounting_user
POSTGRES_PASSWORD=請更換為強密碼至少16字元
POSTGRES_DB=accounting_db
# 生產環境不暴露資料庫 port
POSTGRES_PORT=

# Backend Configuration
DATABASE_URL=postgresql://accounting_user:請更換為強密碼至少16字元@db:5432/accounting_db
SECRET_KEY=請更換為隨機密鑰至少32字元_使用openssl_rand_base64_32生成
DATA_ENCRYPTION_KEY=請更換為隨機加密金鑰32字元_使用openssl_rand_base64_32生成
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Configuration (僅允許您的網域)
# 重要：必須使用 HTTPS
ALLOWED_ORIGINS=https://accounting.yshongcode.com

# Environment
ENVIRONMENT=production

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# Security Headers
ENABLE_SECURITY_HEADERS=true

# Nginx Port Configuration for Synology
# Synology 反向代理處理 HTTPS，應用程式只需 HTTP 8080
NGINX_HTTP_PORT=8080
NGINX_HTTPS_PORT=

# Vite Configuration for Production
# ============================================
# 生產環境：停用 HMR 避免 WebSocket 錯誤
VITE_ALLOWED_HOSTS=localhost,127.0.0.1,accounting.yshongcode.com
VITE_HMR_CLIENT_PORT=false
VITE_HMR_HOST=
VITE_HMR_PROTOCOL=

# Cloudflare Turnstile (請使用您的真實金鑰)
# 從 Cloudflare Dashboard 取得: https://dash.cloudflare.com/?to=/:account/turnstile
TURNSTILE_SECRET_KEY=您的_Turnstile_Secret_Key_請更換
WEBSITE_TURNSTILE_KEY=您的_Turnstile_Site_Key_請更換

# Email Configuration (SMTP)
# ============================================
# Gmail SMTP 設定 (需要使用應用程式密碼，不是一般密碼)
# 如何取得 Gmail 應用程式密碼:
# 1. 前往 https://myaccount.google.com/security
# 2. 啟用「兩步驟驗證」
# 3. 前往「應用程式密碼」生成專用密碼
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password-請更換
SMTP_FROM_EMAIL=your-email@gmail.com
SMTP_FROM_NAME=Accounting System

# 密碼重設連結設定
# 生產環境使用 HTTPS 網域
FRONTEND_URL=your_frontend_url
# 密碼重設 token 有效期限（分鐘）
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=30

GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret